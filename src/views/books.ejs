<div class="mb-4" style="padding-top: 1rem">
  <input
    type="text"
    id="searchInput"
    class="form-control"
    placeholder="Search by book name or author"
    aria-label="Search"
    style="margin-bottom: 0.5rem;"

  />
  <button class="btn btn-outline-primary" id="showAuthors">Filter</button>
  
  <button class="btn btn-outline-primary" id="showSortDialog" style="margin-left: 0.5rem;">Sort</button>
</div>
<div class="modal fade" id="authorsModal" tabindex="-1" aria-labelledby="authorsModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="authorsModalLabel">Authors List</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <div id="authorsList" class="row row-cols-3 g-2">
                  <!-- Authors will be dynamically added here as a grid -->
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>
<div class="modal fade" id="sortModal" tabindex="-1" aria-labelledby="sortModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm">
      <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="sortModalLabel">Sort Options</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="sortByName" />
                <label class="form-check-label" for="sortByName">
                    Sort by Book Name
                </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="sortByAuthor" />
                <label class="form-check-label" for="sortByAuthor">
                    Sort by Author Name
                </label>
            </div>
        </div>
        
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
      </div>
  </div>
</div>
<p id="noBooksMessage" style="display: none">
  No books found matching your search criteria.
</p>

<% if(errMessage) {%>
<div class="alert alert-danger" role="alert"><%= errMessage %></div>
<% } %>

<div class="container-fluid d-flex flex-wrap justify-content-evenly">
  <% if (Array.isArray(books)) { %> <% books.forEach(book=>{ %>
  <div class="card-body mb-2 me-2" style="width: 18rem">
    <a href="/bookDetails/<%= book._id %>" class="btn btn-light">
      <img
        style="max-width: 250px; max-height: 300px"
        src="<%= book.imagesUrl[0] %>"
      />
    </a>
    <div class="card-body">
      <h5 class="card-title">
        <%= book.name %> <br />
        by <%= book.author %>
      </h5>
      <div class="card-text">
        <span class="grey">Qty:<%=book.quantity%></span>
        <br />
        <%=book.desc%>
      </div>
    </div>
  </div>
  <% }) %><% } else { %>
  <p>No books available</p>
  <% } %>
</div>
